Version 4
SHEET 1 4480 1036
WIRE -448 -1680 -688 -1680
WIRE -432 -1680 -448 -1680
WIRE -336 -1680 -352 -1680
WIRE -96 -1680 -336 -1680
WIRE -592 -1632 -608 -1632
WIRE -496 -1632 -448 -1680
WIRE -496 -1632 -512 -1632
WIRE -288 -1632 -336 -1680
WIRE -272 -1632 -288 -1632
WIRE -176 -1632 -192 -1632
WIRE -688 -1584 -688 -1680
WIRE -448 -1584 -688 -1584
WIRE -432 -1584 -448 -1584
WIRE -336 -1584 -352 -1584
WIRE -96 -1584 -96 -1680
WIRE -96 -1584 -336 -1584
WIRE -608 -1536 -608 -1632
WIRE -592 -1536 -608 -1536
WIRE -496 -1536 -448 -1584
WIRE -496 -1536 -512 -1536
WIRE -288 -1536 -336 -1584
WIRE -272 -1536 -288 -1536
WIRE -176 -1536 -176 -1632
WIRE -176 -1536 -192 -1536
WIRE -688 -1488 -688 -1584
WIRE -448 -1488 -688 -1488
WIRE -432 -1488 -448 -1488
WIRE -336 -1488 -352 -1488
WIRE -96 -1488 -96 -1584
WIRE -96 -1488 -336 -1488
WIRE 0 -1456 0 -1488
WIRE 32 -1456 32 -1488
WIRE -608 -1440 -608 -1536
WIRE -592 -1440 -608 -1440
WIRE -496 -1440 -448 -1488
WIRE -496 -1440 -512 -1440
WIRE -288 -1440 -336 -1488
WIRE -272 -1440 -288 -1440
WIRE -176 -1440 -176 -1536
WIRE -176 -1440 -192 -1440
WIRE -688 -1392 -688 -1488
WIRE -448 -1392 -688 -1392
WIRE -432 -1392 -448 -1392
WIRE -336 -1392 -352 -1392
WIRE -96 -1392 -96 -1488
WIRE -96 -1392 -336 -1392
WIRE -16 -1392 -48 -1392
WIRE 416 -1392 160 -1392
WIRE -608 -1344 -608 -1440
WIRE -592 -1344 -608 -1344
WIRE -496 -1344 -448 -1392
WIRE -496 -1344 -512 -1344
WIRE -288 -1344 -336 -1392
WIRE -272 -1344 -288 -1344
WIRE -176 -1344 -176 -1440
WIRE -176 -1344 -192 -1344
WIRE -688 -1296 -688 -1392
WIRE -688 -1296 -736 -1296
WIRE -448 -1296 -688 -1296
WIRE -432 -1296 -448 -1296
WIRE -336 -1296 -352 -1296
WIRE -96 -1296 -96 -1392
WIRE -96 -1296 -336 -1296
WIRE -48 -1296 -48 -1392
WIRE -48 -1296 -96 -1296
WIRE 416 -1296 416 -1392
WIRE 592 -1296 416 -1296
WIRE 656 -1296 592 -1296
WIRE 752 -1296 656 -1296
WIRE 816 -1296 752 -1296
WIRE 944 -1296 816 -1296
WIRE 1168 -1296 944 -1296
WIRE 208 -1280 208 -1312
WIRE 240 -1280 240 -1312
WIRE 816 -1280 816 -1296
WIRE 1168 -1280 1168 -1296
WIRE 944 -1264 944 -1296
WIRE -608 -1248 -608 -1344
WIRE -592 -1248 -608 -1248
WIRE -496 -1248 -448 -1296
WIRE -496 -1248 -512 -1248
WIRE -288 -1248 -336 -1296
WIRE -272 -1248 -288 -1248
WIRE -176 -1248 -176 -1344
WIRE -176 -1248 -192 -1248
WIRE 1072 -1248 992 -1248
WIRE -48 -1216 -48 -1296
WIRE 192 -1216 -48 -1216
WIRE 416 -1216 416 -1296
WIRE 416 -1216 368 -1216
WIRE -688 -1200 -688 -1296
WIRE -448 -1200 -688 -1200
WIRE -432 -1200 -448 -1200
WIRE -336 -1200 -352 -1200
WIRE -96 -1200 -96 -1296
WIRE -96 -1200 -336 -1200
WIRE 816 -1184 816 -1216
WIRE 1168 -1184 1168 -1200
WIRE -608 -1152 -608 -1248
WIRE -592 -1152 -608 -1152
WIRE -496 -1152 -448 -1200
WIRE -496 -1152 -512 -1152
WIRE -288 -1152 -336 -1200
WIRE -272 -1152 -288 -1152
WIRE -176 -1152 -176 -1248
WIRE -176 -1152 -192 -1152
WIRE 944 -1152 944 -1184
WIRE 128 -1120 128 -1248
WIRE -688 -1104 -688 -1200
WIRE -448 -1104 -688 -1104
WIRE -432 -1104 -448 -1104
WIRE -336 -1104 -352 -1104
WIRE -96 -1104 -96 -1200
WIRE -96 -1104 -336 -1104
WIRE -608 -1056 -608 -1152
WIRE -592 -1056 -608 -1056
WIRE -496 -1056 -448 -1104
WIRE -496 -1056 -512 -1056
WIRE -288 -1056 -336 -1104
WIRE -272 -1056 -288 -1056
WIRE -176 -1056 -176 -1152
WIRE -176 -1056 -192 -1056
WIRE 128 -1024 128 -1040
WIRE 336 -1024 336 -1072
WIRE 336 -1024 128 -1024
WIRE 368 -1024 336 -1024
WIRE 464 -1024 448 -1024
WIRE 544 -1024 528 -1024
WIRE -688 -1008 -688 -1104
WIRE -448 -1008 -688 -1008
WIRE -432 -1008 -448 -1008
WIRE -336 -1008 -352 -1008
WIRE -96 -1008 -96 -1104
WIRE -96 -1008 -336 -1008
WIRE 128 -992 128 -1024
WIRE 656 -976 656 -1296
WIRE -608 -960 -608 -1056
WIRE -592 -960 -608 -960
WIRE -496 -960 -448 -1008
WIRE -496 -960 -512 -960
WIRE -288 -960 -336 -1008
WIRE -272 -960 -288 -960
WIRE -176 -960 -176 -1056
WIRE -176 -960 -192 -960
WIRE -176 -944 -176 -960
WIRE -16 -944 -176 -944
WIRE 592 -944 592 -1296
WIRE 592 -944 272 -944
WIRE -608 -880 -608 -960
WIRE -16 -880 -608 -880
WIRE 656 -880 656 -896
WIRE 656 -880 272 -880
WIRE 656 -864 656 -880
WIRE -736 -816 -736 -1296
WIRE -224 -816 -736 -816
WIRE -16 -816 -224 -816
WIRE -736 -800 -736 -816
WIRE -224 -800 -224 -816
WIRE 656 -768 656 -784
WIRE -16 -752 -112 -752
WIRE 560 -752 272 -752
WIRE -736 -704 -736 -720
WIRE -224 -704 -224 -720
WIRE -112 -704 -112 -752
WIRE -112 -704 -224 -704
WIRE -224 -688 -224 -704
WIRE -16 -688 -80 -688
WIRE 288 -688 272 -688
WIRE 384 -688 368 -688
WIRE -16 -624 -48 -624
WIRE 352 -624 272 -624
WIRE 432 -624 416 -624
WIRE -224 -592 -224 -608
WIRE -80 -592 -80 -688
WIRE -80 -592 -224 -592
WIRE -224 -576 -224 -592
WIRE -16 -560 -80 -560
WIRE 320 -560 272 -560
WIRE 416 -560 320 -560
WIRE 448 -560 416 -560
WIRE 560 -560 560 -752
WIRE 560 -560 528 -560
WIRE 320 -544 320 -560
WIRE -80 -528 -80 -560
WIRE 416 -528 416 -560
WIRE 752 -528 752 -1296
WIRE 128 -496 128 -512
WIRE -224 -480 -224 -496
WIRE 320 -464 320 -480
WIRE 416 -416 416 -448
WIRE 416 -416 272 -416
WIRE -80 -400 -80 -448
WIRE -64 -400 -80 -400
WIRE 16 -400 0 -400
WIRE 752 -400 752 -448
WIRE 752 -400 640 -400
WIRE 928 -400 752 -400
WIRE 1072 -400 1072 -1248
WIRE 1072 -400 928 -400
WIRE -80 -352 -80 -400
WIRE 640 -352 640 -400
WIRE 560 -336 560 -560
WIRE 560 -336 464 -336
WIRE 752 -336 752 -400
WIRE 416 -304 416 -320
WIRE 272 -272 272 -416
WIRE 272 -272 -32 -272
WIRE 592 -272 272 -272
WIRE -80 -240 -80 -256
WIRE 640 -240 640 -256
WIRE 752 -240 752 -272
FLAG -736 -1296 IN
FLAG -224 -480 0
FLAG 656 -768 0
FLAG 128 -496 0
FLAG 384 -688 0
FLAG 544 -1024 0
FLAG 432 -624 0
FLAG 320 -464 0
FLAG -80 -240 0
FLAG 640 -240 0
FLAG 752 -240 0
FLAG 928 -400 _RESET
FLAG 16 -400 0
FLAG 416 -304 0
FLAG 240 -1312 Tj1
FLAG 208 -1312 Tc1
FLAG 32 -1488 Tj2
FLAG 0 -1488 Tc2
FLAG 816 -1184 0
FLAG 944 -1296 OUT
FLAG 992 -1200 0
FLAG 944 -1152 0
FLAG 1168 -1184 0
FLAG -736 -704 0
SYMBOL nmos 256 -1168 R270
SYMATTR InstName M1
SYMATTR Value IPT004N03L
SYMBOL res -240 -816 R0
SYMATTR InstName R1
SYMATTR Value 187K
SYMBOL res -240 -592 R0
SYMATTR InstName R3
SYMATTR Value 20K
SYMBOL cap 464 -1040 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 12n
SYMBOL res 272 -672 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 20K
SYMBOL res 640 -880 R0
SYMATTR InstName R9
SYMATTR Value 20K
SYMBOL res 640 -992 R0
SYMATTR InstName R8
SYMATTR Value 150K
SYMBOL res 352 -1040 M90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 1K
SYMBOL res 320 -1168 R0
SYMATTR InstName R11
SYMATTR Value 10
SYMBOL cap 352 -608 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value .01µ
SYMBOL LTC4218 128 -752 R0
SYMATTR InstName U1
SYMBOL cap 304 -544 R0
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL res -96 -544 R0
SYMATTR InstName R4
SYMATTR Value 3K
SYMBOL res 400 -544 R0
SYMATTR InstName R6
SYMATTR Value 20K
SYMBOL nmos -32 -352 M0
SYMATTR InstName M4
SYMATTR Value 2N7002
SYMBOL nmos 592 -352 R0
SYMATTR InstName M5
SYMATTR Value 2N7002
SYMBOL cap 736 -336 R0
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL cap -64 -416 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1n
SYMBOL nmos 464 -416 M0
SYMATTR InstName M3
SYMATTR Value 2N7002
SYMBOL res 432 -544 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value 20K
SYMBOL res -240 -704 R0
SYMATTR InstName R2
SYMATTR Value 3.65K
SYMBOL nmos 48 -1344 R270
SYMATTR InstName M2
SYMATTR Value IPT004N03L
SYMBOL res 112 -1344 R0
SYMATTR InstName R18
SYMATTR Value 10
SYMBOL res -336 -1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSNS5
SYMATTR Value 1m
SYMBOL res -336 -1504 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSNS6
SYMATTR Value 1m
SYMBOL res -336 -1600 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSNS7
SYMATTR Value 1m
SYMBOL res -336 -1696 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSNS8
SYMATTR Value 1m
SYMBOL res -288 -1328 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSM5
SYMATTR Value 1
SYMBOL res -288 -1424 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSM6
SYMATTR Value 1
SYMBOL res -288 -1520 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSM7
SYMATTR Value 1
SYMBOL res -288 -1616 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSM8
SYMATTR Value 1
SYMBOL res -496 -1328 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSP5
SYMATTR Value 1
SYMBOL res -496 -1424 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSP6
SYMATTR Value 1
SYMBOL res -496 -1520 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSP7
SYMATTR Value 1
SYMBOL res -496 -1616 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSP8
SYMATTR Value 1
SYMBOL res -336 -1024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSNS1
SYMATTR Value 1m
SYMBOL res -336 -1120 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSNS2
SYMATTR Value 1m
SYMBOL res -336 -1216 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSNS3
SYMATTR Value 1m
SYMBOL res -336 -1312 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSNS4
SYMATTR Value 1m
SYMBOL res -288 -944 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSM1
SYMATTR Value 1
SYMBOL res -288 -1040 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSM2
SYMATTR Value 1
SYMBOL res -288 -1136 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSM3
SYMATTR Value 1
SYMBOL res -288 -1232 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSM4
SYMATTR Value 1
SYMBOL res -496 -944 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSP1
SYMATTR Value 1
SYMBOL res -496 -1040 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSP2
SYMATTR Value 1
SYMBOL res -496 -1136 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSP3
SYMATTR Value 1
SYMBOL res -496 -1232 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RSP4
SYMATTR Value 1
SYMBOL SOAtherm-NMOS 96 -1392 R270
SYMATTR InstName U2
SYMATTR SpiceModel IPT004N03L
SYMBOL SOAtherm-NMOS 304 -1216 R270
SYMATTR InstName U3
SYMATTR SpiceModel IPT004N03L
SYMBOL cap 800 -1280 R0
SYMATTR InstName C7
SYMATTR Value 1000µ
SYMBOL sw 944 -1168 R180
WINDOW 0 -23 102 Right 2
WINDOW 3 -26 2 Right 2
SYMATTR InstName S1
SYMATTR Value SHORT
SYMBOL current 1168 -1280 R0
WINDOW 123 0 0 Left 2
SYMATTR SpiceLine load
SYMATTR Value PWL(0 {fault_load} 60 {fault_load} +1u 0 +10 0 +1u {fault_load})
SYMATTR InstName Ifault
SYMBOL res 736 -544 R0
SYMATTR InstName R15
SYMATTR Value 100K
SYMBOL voltage -736 -816 R0
WINDOW 123 24 138 Left 2
WINDOW 39 24 117 Left 2
SYMATTR Value 12
SYMATTR InstName V1
SYMBOL voltage 128 -1136 R0
SYMATTR InstName Vth_offset
SYMATTR Value -2
TEXT 1144 -1008 Left 2 !.model SHORT SW(Ron=.12 Roff=100 Vt=.5 Vh=-.2)
TEXT 880 -328 Left 2 !.tran 120 startup
TEXT 880 -296 Left 2 !.options gmin=1e-10 abstol=1e-10 reltol=0.01 chgtol=1e-12 trtol=1 vntol=1e-5
TEXT 976 -1360 Bottom 2 ;Normal Load
TEXT 1144 -1112 Left 2 !.param fault_load=0\n*****Uncomment next line to appluy fault at output*****\n*.step param fault_load list 1 10 50 100 200
TEXT 792 -1560 Bottom 3 ;LTC4218 - Hot Swap Controller \nSingle 12V / 100A Hot Swap Design for Server Farms using Parallel MOSFETs and a Single Control Loop\nSOAtherm Model Verification of SOA
TEXT -432 -144 Left 2 ;Notes: \n  This schematic simulates a 12V input supply powering a 0.12ohm load at the output that turns on when _RESET transitions high.\n  Uncomment the .step param fault_load line to apply several fault load currents at the output. \n  Simulation confirms that TJ1 and TJ2 do not exceed the MOSFETs' maximum rated junction temperature of 175°C.\n  A 2V voltage source is connected in series with one MOSFET's gate to simulate threshold mismatch (manufacturer's process variation, temperature mismatch and thermal runaway).\n  If the simulation model is not found please update with the "Sync Release" command from the "Tools" menu.\n  It remains the customer's responsibility to verify proper and reliable operation in the actual application.\n  Component substitution and printed circuit board layout may significantly affect circuit performance or reliability.\n  Contact your local sales representative for assistance. This circuit is distributed to customers only for use with LTC parts.\n  Copyright © 2015 Linear Technology Inc.  All rights reserved.
TEXT -832 -192 Left 2 !.model IPT004N03L VDMOS(Rg=1.4 Vto=2.3 Rd=120u Rs=161u Theta=.3 Rb=300u Mtriode=1.2 Kp=4000 Lambda=0.09 Cgdmin=168p Cgdmax=6n A=.42 Cgs=18n Cjo=21n M=0.49 Is=230p VJ=0.7 N=1.1 mfg=Infineon Vds=30 Ron=.4m Qg=252n)
RECTANGLE Normal 1096 -1108 768 -1344 2
